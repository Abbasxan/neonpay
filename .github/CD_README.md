# üöÄ NEONPAY CI/CD Workflows

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ GitHub Actions workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ NEONPAY.

## üìã –û–±–∑–æ—Ä Workflows

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ Workflows

| Workflow | –û–ø–∏—Å–∞–Ω–∏–µ | –¢—Ä–∏–≥–≥–µ—Ä—ã |
|----------|----------|----------|
| **`ci.yml`** | üß™ –û—Å–Ω–æ–≤–Ω–æ–π CI/CD pipeline | Push/PR –Ω–∞ main/develop |
| **`release.yml`** | üöÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–∞–º–∏ | –¢–µ–≥–∏ v*.*.* |
| **`docs.yml`** | üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ docs/ |

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ö–∞—á–µ—Å—Ç–≤–æ

| Workflow | –û–ø–∏—Å–∞–Ω–∏–µ | –¢—Ä–∏–≥–≥–µ—Ä—ã |
|----------|----------|----------|
| **`codeql.yml`** | üîç –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | Push/PR + –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ |
| **`dependencies.yml`** | üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ |

### üì¶ –ü—É–±–ª–∏–∫–∞—Ü–∏—è

| Workflow | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|----------|----------|--------|
| **`pypi_publish.yml`** | üì¶ Legacy PyPI publish | ‚ö†Ô∏è Deprecated |

## üõ†Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –°–∫—Ä–∏–ø—Ç—ã

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `.github/scripts/`

| –°–∫—Ä–∏–ø—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|--------|----------|---------------|
| **`cleanup.py`** | üßπ –û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ CI |
| **`update_readme_version.py`** | üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ README | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ CI |
| **`check_pypi_version.py`** | üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –Ω–∞ PyPI | –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |

## üéØ –ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### ‚ú® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –£–ª—É—á—à–µ–Ω–∏—è

- **üé® –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Black, isort, Ruff
- **üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ –Ω–∞ 60-80%
- **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Bandit, Safety, pip-audit, CodeQL
- **üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**: Codecov –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **üåç –ú—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Ubuntu, Windows, macOS
- **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ë–µ–Ω—á–º–∞—Ä–∫–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- **üì¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã

### üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–∞–º–∏**
- **–ú—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ö–∞—á–µ—Å—Ç–≤–∞

### üéØ –ü–æ–∫—Ä—ã—Ç–∏–µ –¢–µ—Å—Ç–∞–º–∏
- –¶–µ–ª—å: >90% –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- –û—Ç—á–µ—Ç—ã: HTML, XML, —Ç–µ—Ä–º–∏–Ω–∞–ª
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: Codecov

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Bandit**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ Python
- **Safety**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- **pip-audit**: –ê—É–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **CodeQL**: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üßπ –ö–∞—á–µ—Å—Ç–≤–æ –ö–æ–¥–∞
- **Ruff**: –ë—ã—Å—Ç—Ä—ã–π –ª–∏–Ω—Ç–µ—Ä
- **Black**: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **isort**: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- **MyPy**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üìù –°–æ–∑–¥–∞–Ω–∏–µ –†–µ–ª–∏–∑–∞

```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ–≥ –¥–ª—è —Ä–µ–ª–∏–∑–∞
git tag v2.6.0
git push origin v2.6.0

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub CLI
gh release create v2.6.0 --generate-notes
```

### üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –°–∫—Ä–∏–ø—Ç–æ–≤

```bash
# –û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
python .github/scripts/cleanup.py

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ README
python .github/scripts/update_readme_version.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –Ω–∞ PyPI
python .github/scripts/check_pypi_version.py
python .github/scripts/check_pypi_version.py 2.6.0  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é
```

### üîÑ –†—É—á–Ω–æ–π –ó–∞–ø—É—Å–∫

–í—Å–µ workflows –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ GitHub UI:
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **Actions**
2. –í—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π workflow
3. –ù–∞–∂–∞—Ç—å **Run workflow**

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **–°—Ç–∞—Ç—É—Å**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–∫–ª–∞–¥–∫—É Actions
- **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**: –°–∫–∞—á–∏–≤–∞–π—Ç–µ –æ—Ç—á–µ—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üîë –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ Secrets

```bash
# PyPI —Ç–æ–∫–µ–Ω—ã
PYPI_API_TOKEN=your_pypi_token
TEST_PYPI_API_TOKEN=your_test_pypi_token

# GitHub —Ç–æ–∫–µ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
GITHUB_TOKEN=auto_generated
```

### üìã –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è

- `PYTHON_VERSION`: –í–µ—Ä—Å–∏—è Python (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3.11)
- `PIP_CACHE_DIR`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∫—ç—à–∞ pip

## üé® –≠–º–æ–¥–∑–∏ –∏ –°—Ç–∞—Ç—É—Å—ã

### üéØ –°—Ç–∞—Ç—É—Å—ã Jobs
- üé® **Format**: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- üß™ **CI**: –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
- üîí **Security**: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- üåç **Multi-platform**: –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚ö° **Performance**: –ë–µ–Ω—á–º–∞—Ä–∫–∏
- üì¢ **Notify**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ **Success**: –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚ùå **Failure**: –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚ö†Ô∏è **Warning**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- üîÑ **Skipped**: –ü—Ä–æ–ø—É—â–µ–Ω–æ

## üöÄ –ë—É–¥—É—â–∏–µ –£–ª—É—á—à–µ–Ω–∏—è

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SonarCloud
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ changelog
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Slack/Discord
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –±–æ—Ç–∞—Ö

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –°—Å—ã–ª–∫–∏

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [CodeQL Documentation](https://codeql.github.com/docs/)
- [PyPI Publishing Guide](https://packaging.python.org/tutorials/packaging-projects/)
- [Codecov Documentation](https://docs.codecov.com/)

---

**üí° –°–æ–≤–µ—Ç**: –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.
